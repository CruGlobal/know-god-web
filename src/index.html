<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Google Tag Manager -->
    <script>
      (function (w, d, s, l, i) {
        w[l] = w[l] || [];
        w[l].push({
          'gtm.start': new Date().getTime(),
          event: 'gtm.js',
        });
        var f = d.getElementsByTagName(s)[0],
          j = d.createElement(s),
          dl = l != 'dataLayer' ? '&l=' + l : '';
        j.async = true;
        j.src = 'https://www.googletagmanager.com/gtm.js?id=' + i + dl;
        f.parentNode.insertBefore(j, f);
      })(window, document, 'script', 'dataLayer', 'GTM-M2FKJRN');
    </script>
    <!-- End Google Tag Manager -->

    <base href="/" />
    <title>Know God</title>
    <meta charset="utf-8" />
    <meta
      name="description"
      content="Learn more about how to know God personally"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Know God" />
    <meta
      property="og:description"
      content="Learn more about how to know God personally"
    />
    <meta
      property="og:image"
      content="https://knowgod.com/assets/img/icon.png"
    />
    <link rel="icon" href="/assets/img/icon.png" />

    <script>
      // a condition which checks if the page is embedded in an iframe
      if (window.location !== window.parent.location) {
        window.isEmbedded = true;
        history.pushState({}, 'entry page', location.hash.substring(1));

        window.addEventListener(
          'popstate',
          function (e) {
            e.preventDefault();
            e.stopPropagation();
            e.stopImmediatePropagation();
          },
          false,
        );
      }
    </script>
  </head>

  <body class="en en_index booklet-none locale-en">
    <!-- Google Tag Manager (noscript) -->
    <noscript
      ><iframe
        src="https://www.googletagmanager.com/ns.html?id=GTM-M2FKJRN"
        height="0"
        width="0"
        style="display: none; visibility: hidden"
      ></iframe
    ></noscript>
    <!-- End Google Tag Manager (noscript) -->

    <app-root></app-root>

    <script>
      //send iframe height to parent
      (function () {
        if (!parent.postMessage) {
          return;
        }

        var docBody = document.body;
        var sendHeight = function () {
          parent.postMessage(docBody.offsetHeight, '*');
        };
        var observer = new MutationObserver(function () {
          sendHeight();

          //give time for images to load
          setTimeout(sendHeight, 500);
          setTimeout(sendHeight, 1000);
          setTimeout(sendHeight, 2000);
        });
        observer.observe(docBody, {
          childList: true,
          subtree: true,
          characterData: true,
        });
      })();
    </script>
  </body>
</html>
